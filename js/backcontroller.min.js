/*!
 * 제작자 : 유영선 
 * Copyright 2017-2017 Start Bootstrap
 */
var backcontroller=function(){var e={topmenu:[],filterlist:[],itemlist:[]},t={itemlist:[]},n={},o=[],a=function(){console.log(o),console.log("total : "+o.length);for(var e=0;e<o.length;e++)console.log("current : "+e),o[e]()},r=function(e){return function(t,n){return $.ajax({type:"GET",url:e,dataType:"JSONP",contentType:"application/json;charset=utf-8",callback:t,success:n})}},i=[{Name:"Main",DataURL:"./admin/json/topmenu.json",templateSelector:"#MainTopMenu",stateProcessor:function(e){backcontroller.state.TopMenu.setList(e)},targetSelector:".MainTopMenu",afterEvent:function(){}},{Name:"Main",templateSelector:"#MainTopSubMenu",stateProcessor:function(e){},targetSelector:".MainTopSubMenu",afterEvent:function(){}},{Name:"Main",DataURL:"DB:FollowList",templateSelector:"#MainTopFollowList",stateProcessor:function(e){},targetSelector:".MainTopFollowList",afterEvent:function(){}},{Name:"Main",templateSelector:"#MainTopSlider",stateProcessor:function(e){},targetSelector:".MainTopSlider",afterEvent:function(){}},{Name:"Main",templateSelector:"#MainMiddleListSlider",stateProcessor:function(e){},targetSelector:".MainMiddleListSlider",afterEvent:function(){}},{Name:"Main",DataURL:"DB:PrintFocusOn",templateSelector:"#MainFocusOn",stateProcessor:function(e){},targetSelector:".MainFocusOn",afterEvent:function(){}},{Name:"Main",DataURL:"DB:PrintNewItem",templateSelector:"#MainNewItem",stateProcessor:function(e){},targetSelector:".MainNewItem",afterEvent:function(){}},{Name:"Main",templateSelector:"#MainMiddleBanner",stateProcessor:function(e){},targetSelector:".MainMiddleBanner",afterEvent:function(){}},{Name:"Main",DataURL:"DB:PrintBestItem",templateSelector:"#MainBestItem",stateProcessor:function(e){},targetSelector:".MainBestItem",afterEvent:function(){}},{Name:"Main",templateSelector:"#MainCategory",stateProcessor:function(e){},targetSelector:".MainCategory",afterEvent:function(){}},{Name:"Main",templateSelector:"#MainInstagram",stateProcessor:function(e){},targetSelector:".MainInstagram",afterEvent:function(){}},{Name:"Main",templateSelector:"#MainFooter",stateProcessor:function(e){},targetSelector:".MainFooter",afterEvent:function(){}},{Name:"Store",DataURL:"./admin/json/topmenu.json",templateSelector:"#StoreTopMenuInfo",stateProcessor:function(e){backcontroller.state.TopMenu.setList(e)},targetSelector:".StoreTopMenuInfo",afterEvent:function(){}},{Name:"Store",DataURL:"DB:SubInfo",templateSelector:"#StoreSubInfo",stateProcessor:function(e){},targetSelector:".StoreSubInfo",afterEvent:function(){}},{Name:"Store",DataURL:"DB:FilterMenu",templateSelector:"#StoreFilterMenu",stateProcessor:function(e){backcontroller.state.FilterList.setList(e)},targetSelector:".StoreFilterMenu",afterEvent:function(){}},{Name:"Store",DataURL:"DB:StoreItemList",templateSelector:"#StoreItemList",stateProcessor:function(e){backcontroller.state.ItemList.setList(e)},targetSelector:".StoreItemList",afterEvent:function(){}},{Name:"LeftMenu",DataURL:"./admin/json/filter.json",templateSelector:"#LeftMenuTopMenuInfo",stateProcessor:function(e){},targetSelector:".LeftMenuTopMenuInfo",afterEvent:function(){}},{Name:"LeftMenu",DataURL:"./admin/json/filter.json",templateSelector:"#LeftMenuFollowList",stateProcessor:function(e){},targetSelector:".LeftMenuFollowList",afterEvent:function(){}},{Name:"LeftMenu",DataURL:"DB:LeftMenuList",templateSelector:"#LeftMenuMenuList",stateProcessor:function(e){},targetSelector:".LeftMenuMenuList",afterEvent:function(){}},{Name:"LeftMenu",DataURL:"./admin/json/filter.json",templateSelector:"#LeftMenuLatestList",stateProcessor:function(e){},targetSelector:".LeftMenuLatestList",afterEvent:function(){}},{Name:"LeftMenu",DataURL:"./admin/json/filter.json",templateSelector:"#LeftMenuFooter",stateProcessor:function(e){},targetSelector:".LeftMenuFooter",afterEvent:function(){}},{Name:"Detail",DataURL:"./admin/json/filter.json",templateSelector:"#DetailTopMenu",stateProcessor:function(e){},targetSelector:".DetailTopMenu",afterEvent:function(){}},{Name:"Detail",DataURL:"DB:Slider",templateSelector:"#DetailSlider",stateProcessor:function(e){},targetSelector:".DetailSlider",afterEvent:function(){}},{Name:"Detail",DataURL:"DB:PriceInfo",templateSelector:"#DetailPriceInfo",stateProcessor:function(e){},targetSelector:".DetailPriceInfo",afterEvent:function(){}},{Name:"Detail",DataURL:"./admin/json/filter.json",templateSelector:"#DetailContents",stateProcessor:function(e){},targetSelector:".DetailContents",afterEvent:function(){}},{Name:"Detail",DataURL:"./admin/json/filter.json",templateSelector:"#DetailBottomMenu",stateProcessor:function(e){},targetSelector:".DetailBottomMenu",afterEvent:function(){}},{Name:"Detail",DataURL:"./admin/json/filter.json",templateSelector:"#DetailBottomItems",stateProcessor:function(e){},targetSelector:".DetailBottomItems",afterEvent:function(){}},{Name:"Login",templateSelector:"#LoginTopMenu",stateProcessor:function(e){},targetSelector:".LoginTopMenu",afterEvent:function(){}},{Name:"Login",templateSelector:"#LoginFrame",stateProcessor:function(e){},targetSelector:".LoginFrame",afterEvent:function(){}},{Name:"JoinPage",templateSelector:"#JoinTopMenu",stateProcessor:function(e){},targetSelector:".JoinTopMenu",afterEvent:function(){}},{Name:"JoinPage",templateSelector:"#JoinPage",stateProcessor:function(e){},targetSelector:".JoinPage",afterEvent:function(){}},{Name:"JoinCheck",templateSelector:"#JoinCheckTopMenu",stateProcessor:function(e){},targetSelector:".JoinCheckTopMenu",afterEvent:function(){}},{Name:"JoinCheck",templateSelector:"#JoinCheck",stateProcessor:function(e){},targetSelector:".JoinCheck",afterEvent:function(){}},{Name:"MyPage",templateSelector:"#MyPageTopMenu",stateProcessor:function(e){},targetSelector:".MyPageTopMenu",afterEvent:function(){}},{Name:"MyPage",templateSelector:"#MyPageTopState",stateProcessor:function(e){},targetSelector:".MyPageTopState",afterEvent:function(){}},{Name:"MyPage",templateSelector:"#MyPageTabSelector",stateProcessor:function(e){},targetSelector:".MyPageTabSelector",afterEvent:function(){}},{Name:"MyPage",templateSelector:"#MyPageTabOrderFilter",stateProcessor:function(e){},targetSelector:".MyPageTabOrderFilter",afterEvent:function(){}},{Name:"MyPage",templateSelector:"#MyPageTabOrderList",stateProcessor:function(e){},targetSelector:".MyPageTabOrderList",afterEvent:function(){}},{Name:"MyPage",templateSelector:"#MyPageTabWishList",stateProcessor:function(e){},targetSelector:".MyPageTabWishList",afterEvent:function(){}},{Name:"MyPage",templateSelector:"#MyPageTabMemberModify",stateProcessor:function(e){},targetSelector:".MyPageTabMemberModify",afterEvent:function(){}},{Name:"MyPage",templateSelector:"#MyPageTabPoint",stateProcessor:function(e){},targetSelector:".MyPageTabPoint",afterEvent:function(){}},{Name:"MyPage",templateSelector:"#MyPageTabWillPoint",stateProcessor:function(e){},targetSelector:".MyPageTabWillPoint",afterEvent:function(){}},{Name:"MyPage",templateSelector:"#MyPageTabCoupon",stateProcessor:function(e){},targetSelector:".MyPageTabCoupon",afterEvent:function(){}}];return{DB:{method:n,getItemList:function(){return t.itemlist},dataTotemplate:r},state:{TopMenu:{setList:function(t){e.topmenu=t},getList:function(){return e.topmenu}},ItemList:{setList:function(t){e.itemlist=t},getList:function(){return e.itemlist}},FilterList:{setList:function(t){e.filterlist=t},getList:function(){return e.filterlist}}},render:{View:o,showView:a,json:function(e){e.DataURL?e.DataURL.indexOf("DB:")>-1?n[e.DataURL.split(":")[1]]=function(t){var n=t;o.push(function(){var t=$(e.templateSelector).html();$(e.targetSelector).append(_.template(t)(n))})}:o.push(function(){$.ajax({type:"GET",url:e.DataURL,dataType:"JSON",success:function(t){var n=$(e.templateSelector).html();if(e.stateProcessor(t),$(e.targetSelector).append(_.template(n)(t)),e.afterEvent)try{e.afterEvent()}catch(o){console.log(o)}},complete:function(e){},error:function(e,t,n){alert("에러발생"+t+n)}})}):o.push(function(){var t=$(e.templateSelector).html();$(e.targetSelector).append(_.template(t)())})},run:function(e){$(e.selector).children().remove();$(e.selector).html();$(e.selector).append(_.template(e.template)(e.data))},start:function(){for(var e=backcontroller.render,t=0;t<i.length;t++)try{$("#MainPage").length>0?("LeftMenu"==i[t].Name&&e.json(i[t]),"Main"==i[t].Name&&e.json(i[t])):$("#DetailPage").length>0?("LeftMenu"==i[t].Name&&e.json(i[t]),"Detail"==i[t].Name&&e.json(i[t])):$("#StorePage").length>0?("LeftMenu"==i[t].Name&&e.json(i[t]),"Store"==i[t].Name&&e.json(i[t])):$("#LoginPage").length>0?("LeftMenu"==i[t].Name&&e.json(i[t]),"Login"==i[t].Name&&e.json(i[t])):$("#JoinCheck").length>0?("LeftMenu"==i[t].Name&&e.json(i[t]),"JoinCheck"==i[t].Name&&e.json(i[t])):$("#JoinPage").length>0?("LeftMenu"==i[t].Name&&e.json(i[t]),"JoinPage"==i[t].Name&&e.json(i[t])):$("#MyPage").length>0&&("LeftMenu"==i[t].Name&&e.json(i[t]),"MyPage"==i[t].Name&&e.json(i[t]))}catch(n){}}}}}();
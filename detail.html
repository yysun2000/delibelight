<?php
include_once('./yc/common.php');
define('_SHOP_', true);
?>
<!DOCTYPE html><html>
<head>

    <meta charset="utf-8">
    <META http-equiv="Pragma" content="no-cache">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Delibe Light</title>

    <!-- Bootstrap Core CSS -->
    <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <!-- Theme CSS -->
    <link href="css/common.min.css" rel="stylesheet">
    <link href="css/font/font.css" rel="stylesheet">

    <!-- Custom Fonts -->
    <link href="vendor/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="/yc/theme/basic/css/mobile_shop.css?ver=161020">
    <link rel="stylesheet" href="/yc/mobile/skin/member/delibe/style.css?ver=161020">


    <link rel="stylesheet" href="css/swiper.css"/>

    <script src="vendor/jquery/jquery.min.js"></script>
    <script src="js/underscore.min.js"></script>
    <script src="vendor/bootstrap/js/bootstrap.min.js"></script>
    <script src="js/swiper.min.js"></script>
    <script src="js/jquery.lazyload.min.js"></script>
    <script src="js/jquery.easing.min.js"></script>
    <script src="js/backcontroller.min.js"></script>

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>
<body>
<?php
if ($is_member){
  $member = get_member($_SESSION['ss_mb_id']);
  echo "<div id='loginsuccess' style='display:none'>".$member['mb_id']."</div>";
}


?>

<script data-bc="action">
(function(){
  backcontroller.Component.init({
  Name : "Common",
//  DataURL : "./admin/json/filter.json",
  templateSelector : '#TopMenu',
  stateProcessor : function(data){
    //backcontroller.state.FilterList.setList(data);
  },
  targetSelector : ".TopMenu",
  afterEvent : function(){
  }})
})()
</script>

<script type="text/template" id="TopMenu" data-bc="template">

  <nav class="navbar navbar-default" role="navigation">
      <div class="container">
          <div class="navbar-header">
              <button onclick="openNav()" type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                  <span class="sr-only" >Toggle navigation</span>
                  <span class="icon-bar"></span>
                  <span class="icon-bar"></span>
                  <span class="icon-bar"></span>
              </button>
              <span class="navbar-brand" href="#" onclick="GoMain()">#B</span>
              <a href="search.html"><button type="button" class="navbar-toggle" style="background:transparent;border:none;margin:0px;margin-right:9px;margin-top:9px;margin-bottom:9px;float:right !important;"><img src="./img/main/zoom.png" style="height:20px;"/></button></a>
              <button type="button" class="navbar-toggle"  style="background:transparent;border:none;margin:0px;margin-top:9px;margin-bottom:9px;float:right !important;"><a href="cart.html"><img src="./img/main/shopping-cart.png" style="height:20px;"/></a></button>
          </div>
      </div>
  </nav>

</script>

<script data-bc="action">
(function(){
  backcontroller.Component.init({
    Name : "LeftMenu",
    DataURL : "./admin/json/filter.json",
    templateSelector : '#LeftMenuTopMenuInfo',
    stateProcessor : function(data){
      //backcontroller.state.FilterList.setList(data);
    },
    targetSelector : ".LeftMenuTopMenuInfo",
    afterEvent : function(){
    }
  })
})()
</script>
<script type="text/template" id="LeftMenuTopMenuInfo" data-bc="template">
  <div class="logInfo">
    <div class="group title">
      <span>#B</span>
      <div class="close" onclick="closeNav()"><img src="img\close.png" style="width:100%;height:100%;"></div>
    </div>
    <div class="group content">
      <div>안녕하세요, <span style="color:#0e64f2;">인탑</span>님. </div>
      <div>#B에 오신걸 환영합니다.</div>
    </div>
    <%if(document.querySelector("#loginsuccess")){%>
      <div class="group button-group">
        <a href="mypage.html"><div class="yellow">마이페이지</div></a>
        <a href="wish.html"><div class="black">위시리스트</div></a>
      </div>
    <%}else{%>

      <div class="group button-group">
        <a href="login.html?device=mobile"><div class="yellow">로그인</div></a>
        <a href="joincheck.html?device=mobile"><div class="black">회원가입</div></a>
      </div>
    <%}%>
  </div>
</script>

<script data-bc="action">
(function(){
  var purl;
  if($("#loginsuccess").length > 0){
    purl = "/yc/api/model.php?m=get&q=/follow/"+$("#loginsuccess").text();
  }else{
    purl = "/yc/api/model.php";
  }
  console.log(purl);

  backcontroller.Component.init({
    Name : "LeftMenu",
    Data : {
      name : "LeftFollowList",
      url : purl
    },
    templateSelector : '#LeftMenuFollowList',
    stateProcessor : function(data){
      //backcontroller.state.FilterList.setList(data);
    },
    targetSelector : ".LeftMenuFollowList",
    afterEvent : function(){
    }
  })
})()
</script>
<script type="text/template" id="LeftMenuFollowList" data-bc="template">
  <% var itemlist = obj;%>
  <% var url = location.href.indexOf("localhost") < 0 ? "." : "."%>
  <div class="submenu">
    <div class="group title">
      <div>Follow<span style="float:right"><img src="img/plus.png"/></span></div>
    </div>
    <div class="group contents" style="white-space:nowrap;overflow-x:scroll;">
    <% for(i=0;i<itemlist.length;i++){%>
      <a href="./store.html#<%=itemlist[i].name%>">
      <div class="horizontalElement follow">
        <div class="face"><img src="<%=url%>/yc/data/face/<%=itemlist[i].face%>" style="width:100%;"></div>
        <div class="name"><%=itemlist[i].name%></div>
      </div>
      </a>
    <%}%>

    </div>
  </div>
</script>

<script data-bc="action">
(function(){
  backcontroller.Component.init({
    Name : "LeftMenu",
    Data : {
      name : "LeftMenu",
      url : "/yc/api/category.php"
    },
    templateSelector : '#LeftMenuMenuList',
    stateProcessor : function(data){
      //backcontroller.state.FilterList.setList(data);
    },
    targetSelector : ".LeftMenuMenuList",
    afterEvent : function(){
    }
  })
})()
</script>
<script type="text/template" id="LeftMenuMenuList" data-bc="template">
  <% var categorylist = obj.sort(function(a,b){return (a.ca_id.toString() > b.ca_id.toString() ? 1 : 0 )});%>

  <div class="list">

    <div class="group tab">
      <div>
        <div>Item</div>
      </div>
      <div class="deactive">
        <div>Celeb</div>
      </div>
    </div>
    <ul class="list-mainmenu" style="clear:both;">
      <% for(i=0;i<categorylist.length;i++){%>
      <% var caid=categorylist[i].ca_id %>
      <li>
        <% if(caid.toString().length == 2){%>
        <div><%=categorylist[i].ca_name%></div>
        <ul class="list-submenu">
        <% while(categorylist[i+1] !== undefined && categorylist[i+1].ca_id.toString().length == 4){%>
            <li>- <%=categorylist[i++].ca_name%></li>
        <%}%>
        </ul>
        <%}%>


      </li>
      <% }%>

    </ul>
</div>
</script>

<script data-bc="action">
(function(){
  backcontroller.Component.init({
    Name : "LeftMenu",
    DataURL : "./admin/json/filter.json",
    templateSelector : '#LeftMenuLatestList',
    stateProcessor : function(data){
      //backcontroller.state.FilterList.setList(data);
    },
    targetSelector : ".LeftMenuLatestList",
    afterEvent : function(){
    }
  })
})()
</script>
<script type="text/template" id="LeftMenuLatestList" data-bc="template">
  <div class="submenu">
    <div class="group title">
      <div>최근에 본 상품</div>
    </div>
    <div class="group contents">
      <div class="horizontalElement">
        <div><img src="./img/shoplist/1.jpg"/></div>
      </div>
      <div class="horizontalElement">
        <div><img src="./img/shoplist/1.jpg"/></div>
      </div>
      <div class="horizontalElement">
        <div><img src="./img/shoplist/1.jpg"/></div>
      </div>
    </div>
  </div>
</script>

<script data-bc="action">
(function(){
  backcontroller.Component.init({
    Name : "LeftMenu",
    DataURL : "./admin/json/filter.json",
    templateSelector : '#LeftMenuFooter',
    stateProcessor : function(data){
      //backcontroller.state.FilterList.setList(data);
    },
    targetSelector : ".LeftMenuFooter",
    afterEvent : function(){
    }
  })
})()
</script>
<script type="text/template" id="LeftMenuFooter" data-bc="template">
  <div class="footer" style="padding:15px 0px 15px 0px;background-color: #333333;color:#888888;">
    <div class="group title">
    <div style="display:block;text-align:center;">
      <div style="display:inline-block;width:17%;text-align:left;vertical-align:middle;padding:10px 10px 10px 10px;"><img src="img/call.png" style="width:100%"></div>
      <div style="display:inline-block;width:34%;vertical-align:middle;text-align:left;font-size:8px;">
        <div style="font-size:12px;">고객센터</div>
        <div style="font-size:8px;">Weekdays 9:30 ~ 18:00</div>
        <div style="font-size:8px;">Sat,Sun,Holiday OFF</div>
      </div>
      <div style="display:inline-block;text-align:left;width:45%;font-size:24px;vertical-align:middle;white-space:nowrap">
        <span style="margin:5px;text-align:center;">1522-6631</span>
      </div>
    </div>
    </div>
  </div>
</script>

<div id="skipnav"><a href="#maincontent">Skip to main content</a></div>
    <!-- Navigation -->

    <div id="leftMenu"  class="left-menu">
      <div class="LeftMenuTopMenuInfo"></div>
      <div class="LeftMenuFollowList"></div>
      <div class="LeftMenuMenuList"></div>
      <div class="LeftMenuLatestList"></div>
      <div class="LeftMenuFooter"></div>
    </div>


    <div class="wrapper">

      <div id="DetailPage" style="background-color:white;">
        <div class="TopMenu"></div>
        <div class="DetailSlider"></div>
        <div class="DetailPriceInfo"></div>
        <div class="DetailContents"></div>
        <div class="DetailBottomMenu"></div>
        <div class="DetailBottomItems"></div>
        <div class="DetailButton"></div>
      </div>
      <!-- Scroll to Top Button (Only visible on small and extra-small screen sizes) -->
      <div class="scroll-top page-scroll hidden-sm hidden-xs hidden-lg hidden-md">
          <a class="btn btn-primary" href="#page-top">
              <i class="fa fa-chevron-up"></i>
          </a>
      </div>
      <script>

          price_calculate();
      </script>
  </div>

<script type="text/template" id="ProductList" data-bc="template">
<div class="productlist">
<% var itemlist = obj;%>
<% var url = location.href.indexOf("localhost") < 0 ? "." : "."%>
<% var listtype;%>
<% var listname;%>
<% try{ listtype = window[window.currentListName].listType; }catch(e){ listtype=2; } %>
<% try{ listname = window["currentListName"]; }catch(e){ listname=""; } %>
<% try{ listcols = window[window.currentListName].listCols }catch(e){ listcols = 2;}%>
    <div class="itemlist">
          <% for(var i=0;i<itemlist.length;i++){%>
            <% if(listtype == 1){%>
              <div class="col-xs-6 product type1">
                <a href="detail.html?it_id=<%=itemlist[i].it_id%>#<%=itemlist[i].it_id%>"><div style='background-image:url("<%=url%>/yc/data/item/<%=itemlist[i].it_img1%>")' class="main-img"></div></a>
                <div class="model">[<%=itemlist[i].it_model%>]</div>
                <div class="name"><%=itemlist[i].it_name%></div>
                <div class="price"><%=itemlist[i].it_price%></div>
                <div class="heart"><i class="fa fa-heart-o" aria-hidden="true"></i></div>
              </div>
            <% }else{%>
              <div class="col-xs-6 product type2">
                <a href="./detail.html?it_id=<%=itemlist[i].it_id%>#<%=itemlist[i].it_id%>"><div style='background-image:url("<%=url%>/yc/data/item/<%=itemlist[i].it_img1%>")' class="main-img"></div></a>
        			  <div class="modelface"><img src="<%=url%>/yc/data/face/<%=itemlist[i].it_model%>/<%=itemlist[i].it_model%>.jpg"></div>
        			  <div class="model"><%=itemlist[i].it_model%></div>
        			  <div class="name"><%=itemlist[i].it_name%></div>
        			  <div style="width:100%">
        			     <div class="price"><%=itemlist[i].it_price%></div>
        			     <div class="heart"><i class="fa fa-heart-o" aria-hidden="true"></i></div>
        			  </div>
              </div>
            <%}%>
        <%}%>
    </div>
  <div class="itemlist col-xs-12" style="padding-top:45px;text-align:center;">
    <img src="<%=url%>/img/more.png" style="width:128px;height:35px;">
  </div>
  <div class="itemlist col-xs-12 sortArr" style="padding-top:48px;text-align:center;">
    <img onclick="transList(2,'<%=listname%>',<%=listtype%>)" src="<%=url%>/img/2x2.png" style="width:33px;height:33px;margin:2px;">
    <img onclick="transList(3,'<%=listname%>',<%=listtype%>)" src="<%=url%>/img/2x6.png" style="width:33px;height:33px;margin:2px;">
  </div>


  <script>
  function slientTransList(val,sel,type){
    if(val==2){
      $("."+sel+" .product.type"+type).attr("class","product type"+type+" col-xs-6");
    }else if(val==3){
      $("."+sel+" .product.type"+type).attr("class","product type"+type+" col-xs-4");
    }else{
      $("."+sel+" .product.type"+type).attr("class","product type"+type);
    }
  }

  function transList(val,sel,type){
    $("html,body").animate({scrollTop: $("."+sel).offset().top - 10}, 500,function(){
        if(val==2){
          $("."+sel+" .product.type"+type).attr("class","product type"+type+" col-xs-6");
        }else if(val==3){
          $("."+sel+" .product.type"+type).attr("class","product type"+type+" col-xs-4");
        }else{
          $("."+sel+" .product.type"+type).attr("class","product type"+type);
        }
    });

  }

  setTimeout(function(){
    try{
      slientTransList(<%=listcols%>,'<%=listname%>',<%=listtype%>);
    }catch(e){

    }
  },500);
  </script>


</div>
</script>

<style>
  .board.element{overflow:hidden;display:block;padding-top:10px;padding-bottom:10px;}
  .left{float:left;display: inline-block;padding:0px;margin:0px;}
  .right{float:right;display: inline-block;padding:0px;margin:0px;}
  .board .title{display:block;clear:both;padding-top:5px;padding-bottom:5px;}
  .board .content{display:block;clear:both;padding-top:5px;padding-bottom:5px;}
  .dropdown{ display:inline-block; padding:5px;}
  select { width: 30%; /* 원하는 너비설정 */
    padding: 5px 8px; /* 여백으로 높이 설정 */
    font-family: inherit; /* 폰트 상속 */
    background: url(https://farm1.staticflickr.com/379/19928272501_4ef877c265_t.jpg) no-repeat 95% 50%;
    border: 1px solid #999;
    border-radius: 0px; /* iOS 둥근모서리 제거 */
     -webkit-appearance: none; /* 네이티브 외형 감추기 */
     -moz-appearance: none; appearance: none; }
</style>
<script>
function showContents(evt){
  $(evt).next().toggle();
}
</script>
<script type="text/template" id="BoardList" data-bc="template">
    <%var boardlist = obj;console.log("boardlist"+boardlist.length);%>
    <%var property = window[window.currentListName]; console.log(window.currentListName);%>

        <!-- 후기일 경우 -->
        <%if(property.type == "use"){%>
        <select>
          <option>키</option>
          <option>140</option>
          <option>150</option>
          <option>160</option>
        </select>

        <select>
          <option>몸무게</option>
          <option>40</option>
          <option>50</option>
          <option>60</option>
        </select>

        <select>
          <option>평소사이즈</option>
          <option>S</option>
          <option>M</option>
          <option>L</option>
        </select>
        <%}%>


      <%for(i=0;i<boardlist.length;i++){%>
        <div class="board element">
          <div class="title" onclick="showContents(this)">

            <div class="left">


              <!-- Q&A일 경우 -->
              <%if(property.type == "qna"){%>
                <div class="title"><%=boardlist[i].iq_subject%></div>
                <div class="username"><%=boardlist[i].mb_id%></div>
              <%}%>


              <!-- 후기일 경우 -->
              <%if(property.type == "use"){%>
                <div class="title"><%=boardlist[i].is_subject%></div>
                <div class="username"><%=boardlist[i].mb_id%></div>
              <%}%>


            </div>
            <div class="right">



            <!-- Q&A일 경우 -->
            <%if(property.type == "qna"){%>
              <div class="flag">New</div>
              <div class="test">덧글 하트</div>
            <%}%>

            <!-- 후기일 경우 -->
            <%if(property.type == "use"){%>
              <div class="flag">New</div>
              <div class="test">덧글 하트</div>
            <%}%>

            </div>
          </div>
          <div class="content" style="display:none;">

            <div class="left">


              <!-- Q&A일 경우 -->
              <%if(property.type == "qna"){%>
                <div class="data"><%=boardlist[i].iq_question%></div>
                <div class="time"><%=boardlist[i].iq_time%></div>
              <%}%>


              <!-- 후기일 경우 -->
              <%if(property.type == "use"){%>
                <div class="data"><%=boardlist[i].is_content%></div>
                <div class="time"><%=boardlist[i].is_time%></div>
              <%}%>


            </div>
          </div>
        </div>
      <%}%>

</script>

<style>
/* 1_슬라이드 이미지 */
  .swiper-slide{
    height:547px;
  }
  .swiper-pagination-bullet-active{
    background-color: #fed664 !important;
  }
  .swiper-pagination-fraction, .swiper-pagination-custom, .swiper-container-horizontal > .swiper-pagination-bullets{
    padding-top: 70px !important;
  }
  .slider-img{
    height:520px;width:100%;background-repeat:no-repeat;background-position:center center;
  }
  .slider-video{
    width: 100% !important;height:520px !important;
  }


/* 3_내용물 */

  .contentt > div{
    margin:5px 0px 5px 0px;
  }


    .contentt .tablec > div{
      margin:10px 0px 10px 0px;
      clear:both;
    }
    .tablec > div > div {
      border:1px #eeeeee solid;
      padding:10px;
      text-align:center;
    }
    .tablec > div > div:first-child{
      background-color: #eeeeee;
    }

    .st{
        display:inline-block;
        background-size: contain;
        background-position: center center;
        background-repeat: no-repeat;
        width:25%;height:100px;padding:10px;
      }

      #sit_ov_btn{
        position: fixed;
        left:0px;
        bottom:0px;
        width:100%;
        white-space: nowrap;
        z-index:99999;
        background-color: white;
      }
      #sit_ov_btn input[type='submit']{
        display: inline-block;
        white-space: nowrap;
        float:left;
        width:85%;
          font-size:15px;
        background-color: #fdd04e;
        color:#252525;
        padding:0px;
        margin:0px;
        height:40px;
        border:2px white solid;
        border-left-width: 0px;
      }
      #sit_ov_btn .wish{
        display: inline-block;
        white-space: nowrap;
        float:left;
        width:15%;
        background-color: #f6f1e1;
        padding:0px;
        margin:0px auto;
        height:40px;
        line-height: 40px;
        text-align: center;
        border:2px white solid;
      }
      #sit_ov_btn .wish > i{
        font-size:15px;
      }
</style>
<script>

// 3_탭 이동 관련
function showDetail(selector){
  $('.productdetail').hide();
  $('.productinfo').hide();
  $('.productafter').hide();
  $('.productqna').hide();
  $(selector).show();
}

setTimeout(function(){
  $(".swiper-slide > video").css("width",$(".swiper-slide > img").width());
  $(".swiper-slide > video").css("height",$(".swiper-slide > img").height()-150);
},500);
</script>
<?php
if (!defined('_GNUBOARD_')) exit; // 개별 페이지 접근 불가

// add_stylesheet('css 구문', 출력순서); 숫자가 작을 수록 먼저 출력됨
add_stylesheet('<link rel="stylesheet" href="'.G5_SHOP_CSS_URL.'/style.css">', 0);
?>

<?php if($config['cf_kakao_js_apikey']) { ?>
<script src="https://developers.kakao.com/sdk/js/kakao.min.js"></script>
<script src="<?php echo G5_JS_URL; ?>/kakaolink.js"></script>
<script>
    // 사용할 앱의 Javascript 키를 설정해 주세요.
    Kakao.init("<?php echo $config['cf_kakao_js_apikey']; ?>");
</script>
<?php } ?>

<?php
include_once('./backend/common.php');
include_once(G5_LIB_PATH.'/iteminfo.lib.php');

$it_id = trim($_GET['it_id']);

// 분류사용, 상품사용하는 상품의 정보를 얻음
$sql = " select a.*,
                b.ca_name,
                b.ca_use
           from {$g5['g5_shop_item_table']} a,
                {$g5['g5_shop_category_table']} b
          where a.it_id = '$it_id'
            and a.ca_id = b.ca_id ";
$it = sql_fetch($sql);
if (!$it['it_id'])
    alert('자료가 없습니다.');
if (!($it['ca_use'] && $it['it_use'])) {
    if (!$is_admin)
        alert('판매가능한 상품이 아닙니다.');
}

// 분류 테이블에서 분류 상단, 하단 코드를 얻음
$sql = " select ca_mobile_skin_dir, ca_include_head, ca_include_tail, ca_cert_use, ca_adult_use
           from {$g5['g5_shop_category_table']}
          where ca_id = '{$it['ca_id']}' ";
$ca = sql_fetch($sql);

// 본인인증, 성인인증체크
if(!$is_admin) {
    $msg = shop_member_cert_check($it_id, 'item');
    if($msg)
        alert($msg, G5_SHOP_URL);
}

// 오늘 본 상품 저장 시작
// tv 는 today view 약자
$saved = false;
$tv_idx = (int)get_session("ss_tv_idx");
if ($tv_idx > 0) {
    for ($i=1; $i<=$tv_idx; $i++) {
        if (get_session("ss_tv[$i]") == $it_id) {
            $saved = true;
            break;
        }
    }
}

if (!$saved) {
    $tv_idx++;
    set_session("ss_tv_idx", $tv_idx);
    set_session("ss_tv[$tv_idx]", $it_id);
}
// 오늘 본 상품 저장 끝

// 조회수 증가
if (get_cookie('ck_it_id') != $it_id) {
    sql_query(" update {$g5['g5_shop_item_table']} set it_hit = it_hit + 1 where it_id = '$it_id' "); // 1증가
    set_cookie("ck_it_id", $it_id, 3600); // 1시간동안 저장
}

// 이전 상품보기
$sql = " select it_id, it_name from {$g5['g5_shop_item_table']}
          where it_id > '$it_id'
            and SUBSTRING(ca_id,1,4) = '".substr($it['ca_id'],0,4)."'
            and it_use = '1'
          order by it_id asc
          limit 1 ";
$row = sql_fetch($sql);
if ($row['it_id']) {
    $prev_title = '이전상품 <span>'.$row['it_name'].'</span>';
    $prev_href = '<a href="item.php?it_id='.$row['it_id'].'" id="siblings_prev">';
    $prev_href2 = '</a>';
} else {
    $prev_title = '';
    $prev_href = '';
    $prev_href2 = '';
}

// 다음 상품보기
$sql = " select it_id, it_name from {$g5['g5_shop_item_table']}
          where it_id < '$it_id'
            and SUBSTRING(ca_id,1,4) = '".substr($it['ca_id'],0,4)."'
            and it_use = '1'
          order by it_id desc
          limit 1 ";
$row = sql_fetch($sql);
if ($row['it_id']) {
    $next_title = '다음 상품 <span>'.$row['it_name'].'</span>';
    $next_href = '<a href="item.php?it_id='.$row['it_id'].'" id="siblings_next">';
    $next_href2 = '</a>';
} else {
    $next_title = '';
    $next_href = '';
    $next_href2 = '';
}

// 관리자가 확인한 사용후기의 개수를 얻음
$sql = " select count(*) as cnt from `{$g5['g5_shop_item_use_table']}` where it_id = '{$it_id}' and is_confirm = '1' ";
$row = sql_fetch($sql);
$item_use_count = $row['cnt'];

// 상품문의의 개수를 얻음
$sql = " select count(*) as cnt from `{$g5['g5_shop_item_qa_table']}` where it_id = '{$it_id}' ";
$row = sql_fetch($sql);
$item_qa_count = $row['cnt'];

if ($default['de_mobile_rel_list_use']) {
    // 관련상품의 개수를 얻음
    $sql = " select count(*) as cnt
               from {$g5['g5_shop_item_relation_table']} a
               left join {$g5['g5_shop_item_table']} b on (a.it_id2=b.it_id)
              where a.it_id = '{$it['it_id']}' and b.it_use='1' ";
    $row = sql_fetch($sql);
    $item_relation_count = $row['cnt'];
}

// 상품품절체크
if(G5_SOLDOUT_CHECK)
    $is_soldout = is_soldout($it['it_id']);

// 주문가능체크
$is_orderable = true;
if(!$it['it_use'] || $it['it_tel_inq'] || $is_soldout)
    $is_orderable = false;

if($is_orderable) {
    // 선택 옵션
    $option_item = get_item_options($it['it_id'], $it['it_option_subject']);

    // 추가 옵션
    $supply_item = get_item_supply($it['it_id'], $it['it_supply_subject']);

    // 상품 선택옵션 수
    $option_count = 0;
    if($it['it_option_subject']) {
        $temp = explode(',', $it['it_option_subject']);
        $option_count = count($temp);
    }

    // 상품 추가옵션 수
    $supply_count = 0;
    if($it['it_supply_subject']) {
        $temp = explode(',', $it['it_supply_subject']);
        $supply_count = count($temp);
    }
}

// 스킨경로
$skin_dir = G5_MSHOP_SKIN_PATH;
$ca_dir_check = true;
/*
if($it['it_mobile_skin']) {
    if(preg_match('#^theme/(.+)$#', $it['it_mobile_skin'], $match))
        $skin_dir = G5_THEME_MOBILE_PATH.'/'.G5_SKIN_DIR.'/shop/'.$match[1];
    else
        $skin_dir = G5_MOBILE_PATH.'/'.G5_SKIN_DIR.'/shop/'.$it['it_mobile_skin'];

    if(is_dir($skin_dir)) {
        $form_skin_file = $skin_dir.'/item.form.skin.php';

        if(is_file($form_skin_file))
            $ca_dir_check = false;
    }
}

if($ca_dir_check) {
    if($ca['ca_mobile_skin_dir']) {
        if(preg_match('#^theme/(.+)$#', $ca['ca_mobile_skin_dir'], $match))
            $skin_dir = G5_THEME_MOBILE_PATH.'/'.G5_SKIN_DIR.'/shop/'.$match[1];
        else
            $skin_dir = G5_MOBILE_PATH.'/'.G5_SKIN_DIR.'/shop/'.$ca['ca_mobile_skin_dir'];

        if(is_dir($skin_dir)) {
            $form_skin_file = $skin_dir.'/item.form.skin.php';

            if(!is_file($form_skin_file))
                $skin_dir = G5_MSHOP_SKIN_PATH;
        } else {
            $skin_dir = G5_MSHOP_SKIN_PATH;
        }
    }
}*/

define('G5_SHOP_CSS_URL', str_replace(G5_PATH, G5_URL, $skin_dir));

$g5['title'] = $it['it_name'].' &gt; '.$it['ca_name'];

//include_once(G5_MSHOP_PATH.'/_head.php');
include_once(G5_SHOP_PATH.'/settle_naverpay.inc.php');

// 상단 HTML
echo '<div id="sit_hhtml">'.conv_content($it['it_mobile_head_html'], 1).'</div>';
?>

<?php if($is_orderable) { ?>
<script src="<?php echo G5_JS_URL; ?>/shop.js"></script>
<?php } ?>

<?php
/*
if (G5_HTTPS_DOMAIN)
    $action_url = G5_HTTPS_DOMAIN.'/'.G5_SHOP_DIR.'/cartupdate.php';
else
    $action_url = G5_SHOP_URL.'/cartupdate.php';
*/
$action_url = 'cartupdate.php';
?>

<script data-bc="action">
(function(){
  backcontroller.Component.init({
  Name : "DetailSlider",
  Data : {
    name : "DetailSliderData",
    url : "/yc/api/item.php?q=/"+location.href.split("?")[1].replace("it_id=","")
    //+location.href.split("#")[1]
  },
  stateProcessor : function(data){
  },
  templateSelector : '#DetailSlider',
  targetSelector : ".DetailSlider",
  afterEvent : function(){

  }})



})()
</script>
<script type="text/template" id="DetailSlider" data-bc="template" data-bc="template">
  <% var detailItem = obj;%>

  <div class="subTitle"><%=detailItem[0].it_model%></div>
  <div class="swiper-container col-xs-12" style="padding:0px;margin:0px;">
    <div class="swiper-wrapper">
    <% if(detailItem[0].it_img1 !== ""){ %> <div class="swiper-slide"><div class="slider-img" style="background-image:url('./yc/data/item/<%=detailItem[0].it_img1%>');"></div></div><%}%>
    <% if(detailItem[0].it_img2 !== ""){ %> <div class="swiper-slide"><div class="slider-img" style="background-image:url('./yc/data/item/<%=detailItem[0].it_img2%>');)"></div></div><%}%>
    <% if(detailItem[0].it_img3 !== ""){ %> <div class="swiper-slide"><div class="slider-img" style="background-image:url('./yc/data/item/<%=detailItem[0].it_img3%>');)"></div></div><%}%>
    <% if(detailItem[0].it_img4 !== ""){ %> <div class="swiper-slide"><div class="slider-img" style="background-image:url('./yc/data/item/<%=detailItem[0].it_img4%>');)"></div></div><%}%>
    <% if(detailItem[0].it_img5 !== ""){ %> <div class="swiper-slide"><div class="slider-img" style="background-image:url('./yc/data/item/<%=detailItem[0].it_img5%>');)"></div></div><%}%>
    <% if(detailItem[0].it_img6 !== ""){ %> <div class="swiper-slide"><div class="slider-img" style="background-image:url('./yc/data/item/<%=detailItem[0].it_img6%>');)"></div></div><%}%>
    <% if(detailItem[0].it_img7 !== ""){ %> <div class="swiper-slide"><div class="slider-img" style="background-image:url('./yc/data/item/<%=detailItem[0].it_img7%>');)"></div></div><%}%>
    <% if(detailItem[0].it_img8 !== ""){ %> <div class="swiper-slide"><div class="slider-img" style="background-image:url('./yc/data/item/<%=detailItem[0].it_img8%>');)"></div></div><%}%>
    <% if(detailItem[0].it_img9 !== ""){ %> <div class="swiper-slide"><div class="slider-img" style="background-image:url('./yc/data/item/<%=detailItem[0].it_img9%>');)"></div></div><%}%>
    <% if(detailItem[0].it_img10 !== ""){ %> <div class="swiper-slide"><di class="slider-img"v style="background-image:url('./yc/data/item/<%=detailItem[0].it_img10%>');)"></div></div><%}%>
    <div class="swiper-slide"><video src="http://techslides.com/demos/sample-videos/small.mp4"  playsinline controls class="slider-video" poster="./yc/data/item/<%=detailItem[0].it_img1%>"></video></div>

    </div>

    <div class="swiper-pagination"></div>
  </div>
  <script>

  var swiper = new Swiper('.swiper-container', {
     pagination: '.swiper-pagination',
     paginationClickable: true,
     autoplay:5000
  });
  </script>

</script>

<script data-bc="action">
(function(){

  backcontroller.Component.init({
  Name : "DetailPriceInfo",
  Data : {
    name : "DetailPriceInfoData",
    url : "/yc/api/item.php?q=/"+location.href.split("?")[1].replace("it_id=","")
  },
  templateSelector : '#DetailPriceInfo',
  stateProcessor : function(data){
  },
  targetSelector : ".DetailPriceInfo",
  afterEvent : function(){


  }})
})()
</script>
<style>
  .sticker{display:inline-block;color:white;padding:5px 10px 5px 10px;margin:5px;font-size:20px;border-radius:5px;}
  .block.sticker{padding:15px 0px 23px 0px;font-size:12px;}
  .stickerline{display:block;width:100%;text-align:center;padding-bottom:20px;border:0px;border-bottom-width:2px;border-style:solid;border-color:#eee;}
  .sticker.hot{background-color:#1593bc;}
  .sticker.pokju{background-color:#e7004c;}
  .infoline{margin-top:10px;display:block;clear:both;overflow:hidden;}
  /* 제목 */
  .DetailPriceInfo .name{text-align:left;padding:5px 0px 5px 0px;white-space:nowrap;color:#252525;width:30%;display:inline-block;float:left;}
  /* 내용 */
  .DetailPriceInfo .value{text-align:left;padding:5px 0px 5px 0px;color:#bbbbbb;white-space:nowrap;width:70%;display:inline-block;float:left;}
  .DetailPriceInfo .value .colorbtn{padding:0px;margin:0px;width:20px;height:20px;background-color:#00b3ca;display:inline-block;margin-right:5px;}
  .DetailPriceInfo .value.size{padding:0px 0px 15px 0px;}
  .DetailPriceInfo .value .sizebtn{line-height:15px;padding:0px;margin:0px;width:20px;height:20px;display:inline-block;margin-right:5px;background-color:white;color:#7f7f7f;border:2px solid #7f7f7f;font-weight:800;border-radius:0px;}
  #sit_opt_added{border:0px;color:#252525;}
  #sit_tot_price{ display:none;border:0px;color:#252525;margin-right:20px;}
</style>
<script type="text/template" id="DetailPriceInfo" data-bc="template">
  <% var detailItem = obj;%>
  <div class="col-xs-12 block sticker">

    <form name="fitem" action="<?php echo $action_url; ?>" method="post" onsubmit="return fitem_submit(this);" style="border:0px;margin:0px;">
    <input type="hidden" name="it_id[]" value="<?php echo $it['it_id']; ?>">
    <input type="hidden" name="sw_direct">
    <input type="hidden" name="url">

    <div class="stickerline">
      <div class="sticker pokju">주문폭주</div>
      <div class="sticker hot">HOT</div>
    </div>

    <div class="infoline">
      <div class="name">제품명</div>
      <div class="value"><%=detailItem[0].it_name%></div>
    </div>

    <?php if ($it['it_maker']) { ?>
      <div class="infoline">
        <div class="name">제조사</div>
        <div class="value"><?php echo $it['it_maker']; ?></div>
      </div>
    <?php } ?>

    <?php if ($it['it_origin']) { ?>
      <div class="infoline">
        <div class="name">원산지</div>
        <div class="value"><?php echo $it['it_origin']; ?></div>
      </div>
    <?php } ?>

    <?php if ($it['it_brand']) { ?>
      <div class="infoline">
        <div class="name">브랜드</div>
        <div class="value"><?php echo $it['it_brand']; ?></div>
      </div>
    <?php } ?>
    <?php if ($it['it_model']) { ?>
      <div class="infoline">
        <div class="name">모델</div>
        <div class="value"><?php echo $it['it_model']; ?></div>
      </div>
    <?php } ?>
    <?php if (!$it['it_use']) { // 판매가능이 아닐 경우 ?>
      <div class="infoline">
        <div class="name">판매가격</div>
        <div class="value">판매중지</div>
      </div>
    <?php } else if ($it['it_tel_inq']) { // 전화문의일 경우 ?>
      <div class="infoline">
        <div class="name">판매가격</div>
        <div class="value">전화문의</div>
      </div>
    <?php } else { // 전화문의가 아닐 경우?>
    <?php if ($it['it_cust_price']) { // 1.00.03?>
      <div class="infoline">
        <div class="name">시중가격</div>
        <div class="value"><?php echo display_price($it['it_cust_price']); ?></div>
      </div>
    <?php } ?>
      <div class="infoline">
        <div class="name">판매가격</div>
        <div class="value"><?php echo display_price(get_price($it)); ?></div>
        <input type="hidden" id="it_price" value="<?php echo get_price($it); ?>">
      </div>
    <?php } ?>

    <?php
    /* 재고 표시하는 경우 주석 해제
      <div class="infoline">
        <div class="name">재고수량</div>
        <div class="value"><?php echo number_format(get_it_stock_qty($it_id)); ?></div>
      </div>
    */
    ?>

    <?php if ($config['cf_use_point']) { // 포인트 사용한다면 ?>
      <div class="infoline">
        <div class="name">포인트</div>
        <div class="value"><?php
        if($it['it_point_type'] == 2) {
            echo '구매금액(추가옵션 제외)의 '.$it['it_point'].'%';
        } else {
            $it_point = get_item_point($it);
            echo number_format($it_point).'점';
        }
        ?></div>
      </div>

    <?php } ?>
    <?php
    $ct_send_cost_label = '배송비결제';

    if($it['it_sc_type'] == 1)
        $sc_method = '무료배송';
    else {
        if($it['it_sc_method'] == 1)
            $sc_method = '수령후 지불';
        else if($it['it_sc_method'] == 2) {
            $ct_send_cost_label = '<label for="ct_send_cost">배송비결제</label>';
            $sc_method = '<select name="ct_send_cost" id="ct_send_cost">
                              <option value="0">주문시 결제</option>
                              <option value="1">수령후 지불</option>
                          </select>';
        }
        else
            $sc_method = '주문시 결제';
    }
    ?>
    <div class="infoline">
      <div class="name"><?php echo $ct_send_cost_label; ?></div>
      <div class="value"><?php echo $sc_method; ?></div>
    </div>
    <?php if($it['it_buy_min_qty']) { ?>
    <div class="infoline">
      <div class="name">최소구매수량</div>
      <div class="value"><?php echo number_format($it['it_buy_min_qty']); ?> 개</div>
    </div>
    <?php } ?>
    <?php if($it['it_buy_max_qty']) { ?>
    <div class="infoline">
      <div class="name">최대구매수량</div>
      <div class="value"><?php echo number_format($it['it_buy_max_qty']); ?> 개</div>
    </div>
    <?php } ?>

    <?php
    if($option_item) {
    ?>
    <div class="infoline">
        <div class="name">선택옵션</div>
        <div class="value">
          <table class="sit_op_sl">
            <colgroup>
                <col class="grid_2">
                <col>
            </colgroup>
            <tbody>
            <?php // 선택옵션
            echo $option_item;
            ?>
            </tbody>
          </table>
        </div>
    </div>
    <?php
    }
    ?>

    <?php
    if($supply_item) {
    ?>
    <div class="infoline">
        <div class="name">추가옵션</div>
        <div class="value">
          <table class="sit_op_sl">
          <colgroup>
              <col class="grid_2">
              <col>
          </colgroup>
          <tbody>
          <?php // 추가옵션
          echo $supply_item;
          ?>
          </tbody>
          </table>
        </div>
    </div>
    <?php
    }
    ?>

    <?php if ($it['it_use'] && !$it['it_tel_inq'] && !$is_soldout) { ?>
    <div id="sit_sel_option">
    <?php
    if(!$option_item) {
        if(!$it['it_buy_min_qty'])
            $it['it_buy_min_qty'] = 1;
    ?>
    <div class="infoline">
        <div class="name">개수</div>
        <div class="value">
        <ul id="sit_opt_added" style="display:inline-block;">
            <li class="sit_opt_list" style="padding:0px;border:0px;">
                <input type="hidden" name="io_type[<?php echo $it_id; ?>][]" value="0">
                <input type="hidden" name="io_id[<?php echo $it_id; ?>][]" value="">
                <input type="hidden" name="io_value[<?php echo $it_id; ?>][]" value="<?php echo $it['it_name']; ?>">
                <input type="hidden" class="io_price" value="0">
                <input type="hidden" class="io_stock" value="<?php echo $it['it_stock_qty']; ?>">
                <span class="sit_opt_subj" style="display:none;"><?php echo $it['it_name']; ?></span>
                <span class="sit_opt_prc" style="display:none;">(+0원)</span>
                <!-- 원래자리 -->
                <div class="sit_opt_qty" style="margin:0px !important;border:0px;">
                    <input type="text" name="ct_qty[<?php echo $it_id; ?>][]" value="<?php echo $it['it_buy_min_qty']; ?>" style="border:0px;" class="frm_input" size="5">
                    <button type="button" class="sit_qty_plus">증가</button>
                    <button type="button" class="sit_qty_minus">감소</button>
                </div>
            </li>
        </ul>
        </div>
    <?php } ?>
    </div>
    <div class="infoline">
        <div class="name"></div>
        <div class="value">
          <div id="sit_sns">
          <?php echo get_sns_share_link('facebook', $sns_url, $sns_title, G5_MSHOP_SKIN_URL.'/img/sns_fb.png'); ?>
                      <?php echo get_sns_share_link('twitter', $sns_url, $sns_title, G5_MSHOP_SKIN_URL.'/img/sns_twt.png'); ?>
                      <?php echo get_sns_share_link('googleplus', $sns_url, $sns_title, G5_MSHOP_SKIN_URL.'/img/sns_goo.png'); ?>
                      <?php echo get_sns_share_link('kakaotalk', $sns_url, $sns_title, G5_MSHOP_SKIN_URL.'/img/sns_kakao.png'); ?>
                      <!---a href="javascript:popup_item_recommend('<?php echo $it['it_id']; ?>');" id="sit_btn_rec">추천하기</a--->

          </div>
        </div>
    </div>

    <div id="sit_tot_price"></div>
    <?php } ?>

    <?php if($is_soldout) { ?>
    <p id="sit_ov_soldout">상품의 재고가 부족하여 구매할 수 없습니다.</p>
    <?php } ?>

    <div id="sit_ov_btn">
        <?php if ($is_orderable) { ?>
        <a class="wish" href="javascript:item_wish(document.fitem, '<?php echo $it['it_id']; ?>');" id="sit_btn_wish"><i class="fa fa-heart-o"></i></a>
        <!--input type="submit" onclick="document.pressed=this.value;" value="CART" id="sit_btn_cart"--->
        <input type="submit" onclick="document.pressed=this.value;" value="구매하기" id="sit_btn_buy">
        <?php } ?>
        <?php if(!$is_orderable && $it['it_soldout'] && $it['it_stock_sms']) { ?>
        <a href="javascript:popup_stocksms('<?php echo $it['it_id']; ?>');" id="sit_btn_buy">재입고알림</a>
        <?php } ?>
        <?php if ($naverpay_button_js) { ?>
        <div class="naverpay-item"><?php echo $naverpay_request_js.$naverpay_button_js; ?></div>
        <?php } ?>
    </div>
</div>


</form>



  </div>



</script>

<script data-bc="action">
(function(){
  backcontroller.Component.init({
  Name : "DetailContents",
  Data : {
    name : "DetailContentsData",
    url : "/yc/api/item.php?q=/"+location.href.split("?")[1].replace("it_id=","")
  },
  DataURL : "./admin/json/filter.json",
  templateSelector : '#DetailContents',
  stateProcessor : function(data){
    //backcontroller.state.FilterList.setList(data);
  },
  targetSelector : ".DetailContents",
  afterEvent : function(){

  }})

  backcontroller.Component.push({
  	Name : "DetailUse",
  	Data : {
  		name : "DetailUseData",
      params : { "type": "use"},
      url : "/yc/api/item.php?q=/use/"+location.href.split("?")[1].replace("it_id=","")
  	},
  	templateSelector : '#BoardList',
  	stateProcessor : function(data){
  	},
  	targetSelector : ".DetailUseBoard",
  	afterEvent : function(){
  	}
  })

  backcontroller.Component.push({
    Name : "DetailQna",
    Data : {
      name : "DetailQnaData",
      params : { "type": "qna"},
      url : "/yc/api/item.php?q=/qna/"+location.href.split("?")[1].replace("it_id=","")
    },
    templateSelector : '#BoardList',
    stateProcessor : function(data){
    },
    targetSelector : ".DetailQnaBoard",
    afterEvent : function(){
    }
  })

})()
</script>
<script type="text/template" id="DetailContents" data-bc="template">
  <%var itemlist = obj;%>
  <%console.log(obj);window.itemlist = obj;%>
  <div class="filterMenu">
    <div class="menu menu-up col-xs-12" style="border-top:2px #e4e4e4 solid">
        <div class="col-xs-3">
          <span onclick="showDetail('.productdetail')">디테일</span>
        </div>
        <div class="col-xs-3">
          <span onclick="showDetail('.productinfo')">상품정보</span>
        </div>
        <div class="col-xs-3">
          <span onclick="showDetail('.productafter')">상품후기</span>
        </div>
        <div class="col-xs-3">
          <span onclick="showDetail('.productqna')">상품문의</span>
        </div>
    </div>
  </div>


  <!--- 임시데이터 ---->
  <div class="productdetail contentt col-xs-12" style="margin-top:20px;margin-bottom:20px;">
    <%=itemlist[0].it_basic%>
  </div>
  <div class="productinfo contentt col-xs-12" style="margin-left:0px;margin-right:0px;margin-top:20px;margin-bottom:20px;">

    <%
      var iteminfo = itemlist[0].it_info_value;
    %>

    <% if(iteminfo.material){%>
    <div> 소재 : <%=iteminfo.material%> </div>
    <%}%>
    <% if(iteminfo.color){%>
    <div> 색상 : <%=iteminfo.color%> </div>
    <%}%>
    <% if(iteminfo.size){%>
    <div> 사이즈 : <%=iteminfo.size%> </div>
    <%}%>
    <div class="tablec" style="display:inline-block;width:100%;">
      <div>
        <div class="col-xs-3">사이즈</div>
        <div class="col-xs-3">S</div>
        <div class="col-xs-3">M</div>
        <div class="col-xs-3">L</div>
      </div>

      <div>
        <div class="col-xs-3">허리단면</div>
        <div class="col-xs-3">32</div>
        <div class="col-xs-3">32</div>
        <div class="col-xs-3">32</div>
      </div>


      <div>
        <div class="col-xs-3">힙단면</div>
        <div class="col-xs-3">32</div>
        <div class="col-xs-3">32</div>
        <div class="col-xs-3">32</div>
      </div>


      <div>
        <div class="col-xs-3">밑위단면</div>
        <div class="col-xs-3">32</div>
        <div class="col-xs-3">32</div>
        <div class="col-xs-3">32</div>
      </div>

      <div>
        <div class="col-xs-3">허벅지단면</div>
        <div class="col-xs-3">32</div>
        <div class="col-xs-3">32</div>
        <div class="col-xs-3">32</div>
      </div>

      <div>
        <div class="col-xs-3">총장</div>
        <div class="col-xs-3">32</div>
        <div class="col-xs-3">32</div>
        <div class="col-xs-3">32</div>
      </div>
    </div>
      <div style="padding-top:10px;">신축성 : 있음 </div>
      <div>계절감 : 여름 </div>
      <div>안감 : 없음 </div>
      <div>세탁방법 : 소재에 맞는 드라이크리닝 권장 </div>

      <% if(iteminfo.maker){%>
      <div> 제조국 : <%=iteminfo.maker%> </div>
      <%}%>

      <div style="color:#cccccc;padding:0px;margin-top:20px;margin-bottom:20px;font-size:15px;line-height:10px;">
      　<% if(iteminfo.description){%>
        <div> <%=iteminfo.description%> </div>
        <%}%>
      </div>
      <div style="background-color:#f8f8f8;margin:20px -20px 20px -20px;padding:10px 10px 10px 10px;font-size:13px;color:#292929;">신축성</div>
      <style>
      input[type=range]::-webkit-slider-thumb {
        -webkit-appearance: none;
        color: black !important;
        font-size: 10px !important;
        height: 50px;
        width: 50px;
        border-radius: 100%;
        background: transparent;
        cursor: pointer;
        margin-top: -25px; /* You need to specify a margin in Chrome, but in Firefox and IE it is automatic */
        }
        input[type=range]::-webkit-slider-thumb::before { content: "4" !important; color: black !important; }
        input[type=range][value="1"]::-webkit-slider-thumb { background-repeat: no-repeat;background-size: contain;background-position: center center;background-image: url("./img/test.png"); content: "1"; color: black; }
        input[type=range][value="2"]::-webkit-slider-thumb { background-repeat: no-repeat;background-size: contain;background-position: center center;background-image: url("./img/test.png"); content: "1"; color: black; }
        input[type=range][value="3"]::-webkit-slider-thumb { background-repeat: no-repeat;background-size: contain;background-position: center center;background-image: url("./img/test.png"); content: "1"; color: black; }
        input[type=range][value="4"]::-webkit-slider-thumb { background-repeat: no-repeat;background-size: contain;background-position: center center;background-image: url("./img/test.png"); content: "1"; color: black; }
        input[type=range][value="5"]::-webkit-slider-thumb { background-repeat: no-repeat;background-size: contain;background-position: center center;background-image: url("./img/test.png"); content: "1"; color: black; }
      </style>
      <form action="#">
          <p class="range-field">
            <input type="range" min="1" max="5" value="4" onchange="this.setAttribute('value', this.value);" />
            <span style="float:left">낮음</span>
            <span style="float:right">높음</span>
            </p>
        </form>
        <div style="background-color:#f8f8f8;margin:20px -20px 20px -20px;padding:10px 10px 10px 10px;font-size:13px;color:#292929;">세탁방법</div>
        <div style="width:100%;white-space:nowrap">
          <div class="st" style="background-image:url('./img/stb/bb.png')"></div>
          <div class="st" style="background-image:url('./img/stb/dc.png')"></div>
          <div class="st" style="background-image:url('./img/stb/sp.png')"></div>
          <div class="st" style="background-image:url('./img/stb/wp.png')"></div>
        </div>

  </div>
  <div class="productafter contentt col-xs-12" style="margin-top:20px;margin-bottom:20px;">
    <div class="DetailUseBoard"></div>
  </div>
  <div class="productqna contentt col-xs-12" style="margin-top:20px;margin-bottom:20px;">
    <div class="DetailQnaBoard"></div>
  </div>

  <script>
  setTimeout(function(){
    showDetail('.productdetail');
    $("input[type=range]::-webkit-slider-thumb").append("Intop");
  },100)
  </script>
</script>

<script data-bc="action">
(function(){
  backcontroller.Component.init({
  Name : "DetailBottomMenu",
  DataURL : "./admin/json/filter.json",
  templateSelector : '#DetailBottomMenu',
  stateProcessor : function(data){
    //backcontroller.state.FilterList.setList(data);
  },
  targetSelector : ".DetailBottomMenu",
  afterEvent : function(){
  }})
})()
</script>
<script type="text/template" id="DetailBottomMenu" data-bc="template">
      <div class="filterMenu">
        <div class="menu menu-up col-xs-12">
            <div class="col-xs-6">
              <span>함께 코디한 상품</span>
            </div>
            <div class="col-xs-6">
              <span>당신을 위한 추천상품</span>
            </div>
        </div>
      </div>
</script>

<script data-bc="action">
(function(){
  backcontroller.Component.init({
  Name : "DetailBottomItems",
  templateSelector : '#DetailBottomItems',
  stateProcessor : function(data){
    //backcontroller.state.FilterList.setList(data);
  },
  targetSelector : ".DetailBottomItems",
  afterEvent : function(){
  }})


  backcontroller.Component.push({
  	Name : "Detail",
  	Data : {
  		name : "DetailBottomItems",
      params : { "listCols": 3 ,"listType":2},
      url : "/yc/api/item.php?q=/"+location.href.split("?")[1].replace("it_id=","")+"/with"
  	},
  	templateSelector : '#ProductList',
  	stateProcessor : function(data){
  	},
  	targetSelector : ".DetailBottomItemsOnList",
  	afterEvent : function(){
  	}
  	})


})()

</script>
<script type="text/template" id="DetailBottomItems" data-bc="template">

  	<div class="DetailBottomItemsOnList" style="clear:both;padding-bottom:45px;">
  	</div>

</script>

<script data-bc="action">
(function(){
  backcontroller.Component.init({
  Name : "Detail",
  templateSelector : '#DetailButton',
  stateProcessor : function(data){
    //backcontroller.state.FilterList.setList(data);
  },
  targetSelector : ".DetailButton",
  afterEvent : function(){
  }})
})()

</script>
<script type="text/template" id="DetailButton" data-bc="template">
  <input type="button" value="test"></input>
</script>

<script>
$(window).bind("pageshow", function(event) {
    if (event.originalEvent.persisted) {
        document.location.reload();
    }
});

$(function(){
    // 상품이미지 슬라이드
    var time = 500;
    var idx = idx2 = 0;
    var slide_width = $("#sit_pvi_slide").width();
    var slide_count = $("#sit_pvi_slide li").size();
    $("#sit_pvi_slide li:first").css("display", "block");
    if(slide_count > 1)
        $(".sit_pvi_btn").css("display", "inline");

    $("#sit_pvi_prev").click(function() {
        if(slide_count > 1) {
            idx2 = (idx - 1) % slide_count;
            if(idx2 < 0)
                idx2 = slide_count - 1;
            $("#sit_pvi_slide li:hidden").css("left", "-"+slide_width+"px");
            $("#sit_pvi_slide li:eq("+idx+")").filter(":not(:animated)").animate({ left: "+="+slide_width+"px" }, time, function() {
                $(this).css("display", "none").css("left", "-"+slide_width+"px");
            });
            $("#sit_pvi_slide li:eq("+idx2+")").css("display", "block").filter(":not(:animated)").animate({ left: "+="+slide_width+"px" }, time,
                function() {
                    idx = idx2;
                }
            );
        }
    });

    $("#sit_pvi_next").click(function() {
        if(slide_count > 1) {
            idx2 = (idx + 1) % slide_count;
            $("#sit_pvi_slide li:hidden").css("left", slide_width+"px");
            $("#sit_pvi_slide li:eq("+idx+")").filter(":not(:animated)").animate({ left: "-="+slide_width+"px" }, time, function() {
                $(this).css("display", "none").css("left", slide_width+"px");
            });
            $("#sit_pvi_slide li:eq("+idx2+")").css("display", "block").filter(":not(:animated)").animate({ left: "-="+slide_width+"px" }, time,
                function() {
                    idx = idx2;
                }
            );
        }
    });

    // 상품이미지 크게보기
    $(".popup_item_image").click(function() {
        var url = $(this).attr("href");
        var top = 10;
        var left = 10;
        var opt = 'scrollbars=yes,top='+top+',left='+left;
        popup_window(url, "largeimage", opt);

        return false;
    });
});

// 상품보관
function item_wish(f, it_id)
{
    f.url.value = "wishupdate.php?it_id="+it_id;
    f.action = "wishupdate.php";
    f.submit();
}

// 추천메일
function popup_item_recommend(it_id)
{
    if (!g5_is_member)
    {
        if (confirm("회원만 추천하실 수 있습니다."))
            document.location.href = "<?php echo G5_BBS_URL; ?>/login.php?url=<?php echo urlencode(G5_SHOP_URL."/item.php?it_id=$it_id"); ?>";
    }
    else
    {
        url = "<?php echo G5_SHOP_URL; ?>/itemrecommend.php?it_id=" + it_id;
        opt = "scrollbars=yes,width=616,height=420,top=10,left=10";
        popup_window(url, "itemrecommend", opt);
    }
}

// 재입고SMS 알림
function popup_stocksms(it_id)
{
    url = "<?php echo G5_SHOP_URL; ?>/itemstocksms.php?it_id=" + it_id;
    opt = "scrollbars=yes,width=616,height=420,top=10,left=10";
    popup_window(url, "itemstocksms", opt);
}

function fsubmit_check(f)
{
    // 판매가격이 0 보다 작다면
    if (document.getElementById("it_price").value < 0) {
        alert("전화로 문의해 주시면 감사하겠습니다.");
        return false;
    }

    if($(".sit_opt_list").size() < 1) {
        alert("상품의 선택옵션을 선택해 주십시오.");
        return false;
    }

    var val, io_type, result = true;
    var sum_qty = 0;
    var min_qty = parseInt(<?php echo $it['it_buy_min_qty']; ?>);
    var max_qty = parseInt(<?php echo $it['it_buy_max_qty']; ?>);
    var $el_type = $("input[name^=io_type]");

    $("input[name^=ct_qty]").each(function(index) {
        val = $(this).val();

        if(val.length < 1) {
            alert("수량을 입력해 주십시오.");
            result = false;
            return false;
        }

        if(val.replace(/[0-9]/g, "").length > 0) {
            alert("수량은 숫자로 입력해 주십시오.");
            result = false;
            return false;
        }

        if(parseInt(val.replace(/[^0-9]/g, "")) < 1) {
            alert("수량은 1이상 입력해 주십시오.");
            result = false;
            return false;
        }

        io_type = $el_type.eq(index).val();
        if(io_type == "0")
            sum_qty += parseInt(val);
    });

    if(!result) {
        return false;
    }

    if(min_qty > 0 && sum_qty < min_qty) {
        alert("선택옵션 개수 총합 "+number_format(String(min_qty))+"개 이상 주문해 주십시오.");
        return false;
    }

    if(max_qty > 0 && sum_qty > max_qty) {
        alert("선택옵션 개수 총합 "+number_format(String(max_qty))+"개 이하로 주문해 주십시오.");
        return false;
    }

    return true;
}

// 바로구매, 장바구니 폼 전송
function fitem_submit(f)
{
    f.action = "<?php echo $action_url; ?>";
    f.target = "";

    if (document.pressed == "CART") {
        f.sw_direct.value = 0;
    } else { // 바로구매
        f.sw_direct.value = 1;
    }

    // 판매가격이 0 보다 작다면
    if (document.getElementById("it_price").value < 0) {
        alert("전화로 문의해 주시면 감사하겠습니다.");
        return false;
    }

    if($(".sit_opt_list").size() < 1) {
        alert("상품의 선택옵션을 선택해 주십시오.");
        return false;
    }

    var val, io_type, result = true;
    var sum_qty = 0;
    var min_qty = parseInt(<?php echo $it['it_buy_min_qty']; ?>);
    var max_qty = parseInt(<?php echo $it['it_buy_max_qty']; ?>);
    var $el_type = $("input[name^=io_type]");

    $("input[name^=ct_qty]").each(function(index) {
        val = $(this).val();

        if(val.length < 1) {
            alert("수량을 입력해 주십시오.");
            result = false;
            return false;
        }

        if(val.replace(/[0-9]/g, "").length > 0) {
            alert("수량은 숫자로 입력해 주십시오.");
            result = false;
            return false;
        }

        if(parseInt(val.replace(/[^0-9]/g, "")) < 1) {
            alert("수량은 1이상 입력해 주십시오.");
            result = false;
            return false;
        }

        io_type = $el_type.eq(index).val();
        if(io_type == "0")
            sum_qty += parseInt(val);
    });

    if(!result) {
        return false;
    }

    if(min_qty > 0 && sum_qty < min_qty) {
        alert("선택옵션 개수 총합 "+number_format(String(min_qty))+"개 이상 주문해 주십시오.");
        return false;
    }

    if(max_qty > 0 && sum_qty > max_qty) {
        alert("선택옵션 개수 총합 "+number_format(String(max_qty))+"개 이하로 주문해 주십시오.");
        return false;
    }

    return true;
}
</script>


    <!-- jQuery -->
    <!-- Bootstrap Core JavaScript -->
    <!-- Plugin JavaScript -->
    <!-- Theme JavaScript -->
    <script src="js/frontcontroller.min.js"></script>

</body>
</html>